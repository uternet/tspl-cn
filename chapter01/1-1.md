# 1.1 Scheme语法

Scheme 程序由关键字，变量，结构形式，常量数据（数字，字符，字符串，被引用的向量，被引用的列表，被引用的符号），空白符，以及注释组成。

关键字，变量，符号统称标识符。标识符由字母，数字及某些特殊字符以及 Uncode 字符构成，可以用在标识符中的特殊字符包括`?, !, ., +, -, *, /, <, =, >, :, $, %, &, _, ~, @`, 标识符不能以符号(@)开头，并且通常也不能以数字，正号(+)，负号(-) 及小数点开头，以免被识别为数字。例外是`+, -, ...`，这3个是合法的标识符（晕了）；以 `->` 开头的都是合法的标识符。例如：`hi, Hello, n, x, x3, x+2`以及`?$&*!!!`都是合法的标识符。标识符之间由空白符，注释，括号，方括号，字符串(双引号)，以及 # 号隔开，A delimiter or any other Unicode character may be included anywhere within the name of an identifier as an escape of the form `\xsv`;, where sv is the scalar value of the character in hexadecimal notation.

There is no inherent limit on the length of a Scheme identifier; programmers may use as many characters as necessary. Long identifiers are no substitute for comments, however, and frequent use of long identifiers can make a program difficult to format and consequently difficult to read. A good rule is to use short identifiers when the scope of the identifier is small and longer identifiers when the scope is larger.

Identifiers may be written in any mix of upper- and lower-case letters, and case is significant, i.e., two identifiers are different even if they differ only in case. For example, abcde, Abcde, AbCdE, and ABCDE all refer to different identifiers. This is a change from previous versions of the Revised Report.

Structured forms and list constants are enclosed within parentheses, e.g., (a b c) or (* (- x 2) y). The empty list is written (). Matched sets of brackets ( [ ] ) may be used in place of parentheses and are often used to set off the subexpressions of certain standard syntactic forms for readability, as shown in examples throughout this book. Vectors are written similarly to lists, except that they are preceded by #( and terminated by ), e.g., #(this is a vector of symbols). Bytevectors are written as sequences of unsigned byte values (exact integers in the range 0 through 255) bracketed by #vu8( and ), e.g., #vu8(3 250 45 73).

Strings are enclosed in double quotation marks, e.g., "I am a string". Characters are preceded by #\, e.g., #\a. Case is important within character and string constants, as within identifiers. Numbers may be written as integers, e.g., -123, as ratios, e.g., 1/2, in floating-point or scientific notation, e.g., 1.3 or 1e23, or as complex numbers in rectangular or polar notation, e.g., 1.3-2.7i or -1.2@73. Case is not important in the syntax of a number. The boolean values representing true and false are written #t and #f. Scheme conditional expressions actually treat #f as false and all other objects as true, so 3, 0, (), "false", and nil all count as true.

Details of the syntax for each type of constant data are given in the individual sections of Chapter 6 and in the formal syntax of Scheme starting on page 455.

Scheme expressions may span several lines, and no explicit terminator is required. Since the number of whitespace characters (spaces and newlines) between expressions is not significant, Scheme programs should be indented to show the structure of the code in a way that makes the code as readable as possible. Comments may appear on any line of a Scheme program, between a semicolon ( ; ) and the end of the line. Comments explaining a particular Scheme expression are normally placed at the same indentation level as the expression, on the line before the expression. Comments explaining a procedure or group of procedures are normally placed before the procedures, without indentation. Multiple comment characters are often used to set off the latter kind of comment, e.g., `;;; The following procedures ....`

Two other forms of comments are supported: block comments and datum comments. Block comments are delimited by `#|` and `|#` pairs, and may be nested. A datum comment consists of a #; prefix and the datum (printed data value) that follows it. Datum comments are typically used to comment out individual definitions or expressions. For example, `(three #;(not four) element list)` is just what it says. Datum comments may also be nested, though #;#;`(a)(b)` has the somewhat nonobvious effect of commenting out both `(a)` and `(b)`.

Some Scheme values, such as procedures and ports, do not have standard printed representations and can thus never appear as a constant in the printed syntax of a program. This book uses the notation #<description> when showing the output of an operation that returns such a value, e.g., `#<procedure>` or `#<port>`.